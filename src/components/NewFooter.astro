---
// Footer section from rendered HTML

// Interface for a generic link item
interface LinkItem {
  text: string;
  href: string;
  title?: string;
  target?: string;
}

// Interface for a social media link item, extending LinkItem and adding SVG details
interface SocialLinkItem extends LinkItem {
  svgPath: string; // SVG path data for the icon
  viewBox: string; // SVG viewBox attribute
}

// Props interface for the NewFooter component
export interface Props {
  tagline: string;
  newsletterTitle: string;
  newsletterCtaText: string;
  newsletterCtaHref: string;
  discoverLinks: {
    title: string;
    items: LinkItem[];
  };
  resourcesLinks: {
    title: string;
    items: LinkItem[];
  };
  aboutLinks: {
    title: string;
    items: LinkItem[];
  };
  legalLinks: LinkItem[];
  socialLinks: SocialLinkItem[];
}

const {
  tagline,
  newsletterTitle,
  newsletterCtaText,
  newsletterCtaHref,
  discoverLinks,
  resourcesLinks,
  aboutLinks,
  legalLinks,
  socialLinks,
} = Astro.props;
---
    <footer class="site-footer">
        <div class="site-footer__top bg-primary-color soft-double--ends">
            <div class="wrap flexbox--medium">
                <div class="col small-12 medium-5 large-5 push-1--large">
                        <p class="tera white font-regular push--bottom">{tagline}</p>

                        <h2 class="kilo white font-regular push--bottom">{newsletterTitle}</h2>

                            <a href={newsletterCtaHref} class="btn btn--primary push-half--top push-bottom--small btn--light">{newsletterCtaText}</a>

                </div>
                <!-- Three-column links desktop/tablet-->
                <div class="col small-12 medium-7 large-6 show-for-medium-up">
                    <div class="flexbox flex__equal-height justify-between white">
                            <div class="col small-12 medium-4 large-4">
        <h2 class="site-footer__col-heading gamma uppercase push--bottom">{discoverLinks.title}</h2>
            <ul>
                    {discoverLinks.items.map(link => (
                        <li class="site-footer__item">
                            <a href={link.href} title={link.title || link.text} class="site-footer__link gamma white" target={link.target}>{link.text}</a>
                        </li>
                    ))}
            </ul>
    </div>


                            <div class="col small-12 medium-4 large-4">
        <h2 class="site-footer__col-heading gamma uppercase push--bottom">{resourcesLinks.title}</h2>
            <ul>
                    {resourcesLinks.items.map(link => (
                        <li class="site-footer__item">
                            <a href={link.href} title={link.title || link.text} class="site-footer__link gamma white" target={link.target}>{link.text}</a>
                        </li>
                    ))}
            </ul>
    </div>


                            <div class="col small-12 medium-4 large-4 flush--right">
        <h2 class="site-footer__col-heading gamma uppercase push--bottom">{aboutLinks.title}</h2>
            <ul>
                    {aboutLinks.items.map(link => (
                        <li class="site-footer__item">
                            <a href={link.href} title={link.title || link.text} class="site-footer__link gamma white" target={link.target}>{link.text}</a>
                        </li>
                    ))}
            </ul>
    </div>

                    </div>
                </div>

                <!-- Accordion links mobile -->
                <div class="col small-12 js-accordion show-for-small-only">
                    <div class="footer-accordion__wrapper">
                        <h2>
                            <button aria-expanded="false" class="footer-accordion__trigger js-accordion__trigger relative gamma white uppercase flex align-center font-bold" aria-controls="accordion-section-discover" id="accordion-button-discover">
                                <span>{discoverLinks.title}</span>
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none"><g stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.28" clip-path="url(#a)"><path d="M8 .96v14.08M15.04 8H.96" aria-hidden="true" focusable="false"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h16v16H0z"></path></clipPath></defs></svg>
                            </button>
                        </h2>
                        <div class="footer-accordion__panel" id="accordion-section-discover" aria-labelledby="accordion-button-discover">
                            <ul>
                                {discoverLinks.items.map(link => (
                                    <li class="site-footer__item">
                                        <a href={link.href} title={link.title || link.text} class="site-footer__link gamma white" target={link.target}>{link.text}</a>
                                    </li>
                                ))}
                            </ul>
                        </div>
                    </div>

                    <div class="footer-accordion__wrapper">
                        <h2>
                            <button aria-expanded="false" class="footer-accordion__trigger js-accordion__trigger relative gamma white uppercase flex align-center font-bold" aria-controls="accordion-section-resources" id="accordion-button-resources">
                                <span>{resourcesLinks.title}</span>
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none"><g stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.28" clip-path="url(#a)"><path d="M8 .96v14.08M15.04 8H.96" aria-hidden="true" focusable="false"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h16v16H0z"></path></clipPath></defs></svg>
                            </button>
                        </h2>
                        <div class="footer-accordion__panel" id="accordion-section-resources" aria-labelledby="accordion-button-resources">
                            <ul>
                                {resourcesLinks.items.map(link => (
                                    <li class="site-footer__item">
                                        <a href={link.href} title={link.title || link.text} class="site-footer__link gamma white" target={link.target}>{link.text}</a>
                                    </li>
                                ))}
                            </ul>
                        </div>
                    </div>

                    <div class="footer-accordion__wrapper">
                        <h2>
                            <button aria-expanded="false" class="footer-accordion__trigger js-accordion__trigger relative gamma white uppercase flex align-center font-bold" aria-controls="accordion-section-about" id="accordion-button-about">
                                <span>{aboutLinks.title}</span>
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none"><g stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.28" clip-path="url(#a)"><path d="M8 .96v14.08M15.04 8H.96" aria-hidden="true" focusable="false"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h16v16H0z"></path></clipPath></defs></svg>
                            </button>
                        </h2>
                        <div class="footer-accordion__panel" id="accordion-section-about" aria-labelledby="accordion-button-about">
                            <ul>
                                {aboutLinks.items.map(link => (
                                    <li class="site-footer__item">
                                        <a href={link.href} title={link.title || link.text} class="site-footer__link gamma white" target={link.target}>{link.text}</a>
                                    </li>
                                ))}
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="site-footer__bottom bg-secondary-color soft--ends">
            <div class="wrap">
                <div class="flexbox--medium justify-between--medium">
                    <ul class="site-footer__link-list col small-12 medium-10 flexbox flex-wrap">
                        {legalLinks.map(link => (
                            <li class="site-footer__item"><a class="site-footer__link gamma white" href={link.href} target={link.target}>{link.text}</a></li>
                        ))}
                    </ul>
                    <ul class="col flexbox push-top--small">
                        {socialLinks.map(link => (
                            <li class="site-footer__item">
                                <a class="site-footer__social flexbox" href={link.href} target={link.target}>
                                    <span class="visuallyhidden">{link.text}</span>
                                    <svg width="24" height="24" viewBox={link.viewBox} fill="none" xmlns="http://www.w3.org/2000/svg"><title>{link.text}</title><path d={link.svgPath} fill="white"></path></svg>
                                </a>
                            </li>
                        ))}
                    </ul>
                </div>
            </div>
        </div>
    </footer>
