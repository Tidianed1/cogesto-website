---
// src/components/LeadershipTeamSection.astro
// Replicates the "Leadership team" section.

export interface TeamMember {
  name: string;
  role: string; // Mapped to 'title' in usage
  imageUrl: string; // Mapped to 'image' in usage
  imageAlt?: string;
  profileLink?: string;
  title?: string; // Alternate for role
  image?: string; // Alternate for imageUrl
}

export interface Props {
  title: string;
  teamMembers: TeamMember[]; // Changed from members
  id?: string;
}

const { title, teamMembers = [], id = "peoplegroupblock" } = Astro.props;
---

<div class="module" id={id}>
    <div class="wrap">
        <div class="col small-12 push-double--bottom">
            <div class="row">
                <h2 class="col small-12 medium-3 push--bottom soft--bottom giga font-light title-underline">{title}</h2>

                <div class="col small-12 medium-9">
                    <div class="row">
                        <div class="flex__equal-height">
                            {teamMembers && teamMembers.length > 0 && teamMembers.map((member) => (
                                <div class="col small-12 small-medium-6 medium-4 large-3 push--bottom people-profile-card">
                                    <div class="img-overlay">
                                        <a href={member.profileLink || "#"} class="block-link" aria-label={`View profile for ${member.name}`}>
                                            <figure class="img-overlay__wrap push-half--bottom ratio-5x3-1x1">
                                                <img 
                                                    class="img-overlay__image push-half--bottom lazyloaded" 
                                                    src={member.imageUrl || member.image} 
                                                    alt={member.imageAlt || member.name} 
                                                    style="width: 100%; height: 100%; object-fit: cover;"
                                                />
                                            </figure>
                                            <h3 class="beta push-quarter--bottom badge-internal-people-container">{member.name}</h3>
                                            <p class="gamma push-quarter--bottom">{member.role || member.title}</p>
                                        </a>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .people-profile-card {
        margin-bottom: 2rem;
    }
    .block-link {
        display: block;
        text-decoration: none;
        color: inherit;
    }
    .block-link:hover h3 {
        color: #0024ff;
    }
    .ratio-5x3-1x1 {
        position: relative;
        width: 100%;
        height: 0;
        padding-bottom: 100%;
        overflow: hidden;
    }
    .badge-internal-people-container::after {
        content: "";
        display: inline-block;
        width: 16px;
        height: 16px;
        margin-left: 8px;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%230024ff'%3E%3Cpath d='M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z'/%3E%3C/svg%3E");
        background-size: contain;
        vertical-align: middle;
    }
</style>
