---
// src/components/VideoSection.astro

export interface Props {
  title: string;
  description: string;
  buttonText: string;
  buttonHref: string;
  imageUrl: string;
  imageAlt: string;
  videoPosition?: 'left' | 'right'; // Controls c-wm-video--video-right vs c-wm-video--video-left
  backgroundColorClass?: string; // e.g., 'bg-secondary-color'
  backgroundImageUrl?: string; // Optional, for the inline styles
}

const {
  title,
  description,
  buttonText,
  buttonHref,
  imageUrl,
  imageAlt,
  videoPosition = 'right',
  backgroundColorClass = 'bg-primary-color', // Default to primary for this component
  backgroundImageUrl = '',
} = Astro.props;

const videoSectionClasses = [
  'bg--small',
  'c-wm-video',
  'c-wm-video--60-40', // Assuming this is fixed for this component type
  videoPosition === 'right' ? 'c-wm-video--video-right' : 'c-wm-video--video-left'
].join(' ');

const backgroundStyle = backgroundImageUrl ? `background-image:url(${backgroundImageUrl}); background-position:center; background-size: cover;` : '';
---

<div class={videoSectionClasses} style={backgroundStyle} id="video">
    <div class="bg--medium" style={backgroundStyle}>
        <div class="module bg--large soft-lens--ends" style={backgroundStyle}>
            <div class="wrap">
                <div class="col small-12">
                    <div class:list={['c-wm-video__wrapper', backgroundColorClass, 'white']}>
                        <div class="c-wm-video__video-col" style="position: relative; overflow: hidden; min-height: 300px;">
                            <img class="img-overlay__image full-width lazyloaded" style="width: 100%; height: 100%; object-fit: cover;" data-src={imageUrl} alt={imageAlt} src={imageUrl}>
                        </div>
                        <div class="c-wm-video__info-col">
                            <h2 class="text-left giga push--bottom title-underline soft--bottom title-underline--white">{title}</h2>
                            <div>
                                <div class="editor white">
                                    <p set:html={description} />
                                </div>
                                <a class="btn btn--primary push--top btn--light" href={buttonHref}>{buttonText}</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
