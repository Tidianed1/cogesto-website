---
import Icon from '../atoms/Icon.astro'
import Button from '../atoms/Button.astro'

export interface Props {
  newsletter: {
    title: string
    description: string
    ctaText: string
    ctaHref: string
  }
  linkColumns: Array<{
    title: string
    links: Array<{
      text: string
      href: string
    }>
  }>
  socialLinks: Array<{
    text: string
    href: string
  }>
  legalLinks: Array<{
    text: string
    href: string
  }>
  copyright: string
}

const { newsletter, linkColumns, socialLinks, legalLinks, copyright } = Astro.props
---

<footer class="bg-blue-900 text-white">
  <!-- Main Footer Content -->
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 md:py-20">
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-8 md:gap-12">
      
      <!-- Newsletter Section -->
      <div class="lg:col-span-2">
        <h3 class="text-2xl md:text-3xl font-bold mb-4">{newsletter.title}</h3>
        <p class="text-white/80 text-lg mb-6 leading-relaxed">{newsletter.description}</p>
        <Button 
          variant="filled" 
          color="white" 
          size="large"
          href={newsletter.ctaHref}
          className="w-full md:w-auto"
        >
          {newsletter.ctaText}
        </Button>
      </div>

      <!-- Link Columns -->
      {linkColumns.map((column) => (
        <div>
          <h4 class="text-lg font-semibold mb-4 text-white">{column.title}</h4>
          <ul class="space-y-3">
            {column.links.map((link) => (
              <li>
                <a 
                  href={link.href}
                  class="text-white/70 hover:text-white transition-colors duration-200 text-sm"
                >
                  {link.text}
                </a>
              </li>
            ))}
          </ul>
        </div>
      ))}

      <!-- Social Media -->
      <div>
        <h4 class="text-lg font-semibold mb-4 text-white">Réseaux sociaux</h4>
        <div class="flex flex-wrap gap-3">
          {socialLinks.map((social) => (
            <a 
              href={social.href}
              class="flex items-center justify-center w-10 h-10 rounded-full bg-white/10 hover:bg-white/20 transition-colors duration-200"
              aria-label={social.text}
            >
              <Icon name="globe" size="sm" class="text-white" />
            </a>
          ))}
        </div>
      </div>
    </div>
  </div>

  <!-- Bottom Bar -->
  <div class="border-t border-white/10">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
      <div class="flex flex-col md:flex-row justify-between items-center gap-4">
        
        <!-- Legal Links -->
        <div class="flex flex-wrap gap-6 text-sm">
          {legalLinks.map((link, index) => (
            <>
              <a 
                href={link.href}
                class="text-white/60 hover:text-white transition-colors duration-200"
              >
                {link.text}
              </a>
              {index < legalLinks.length - 1 && (
                <span class="text-white/40">|</span>
              )}
            </>
          ))}
        </div>

        <!-- Copyright -->
        <div class="text-sm text-white/60">
          {copyright}
        </div>

        <!-- Country/Region Selector -->
        <div class="flex items-center gap-2 text-sm text-white/60">
          <Icon name="globe" size="sm" />
          <span>Français - France</span>
          <Icon name="chevronDown" size="sm" />
        </div>
      </div>
    </div>
  </div>
</footer>